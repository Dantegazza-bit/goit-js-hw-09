{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FORM_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\n// 1) Початковий об'єкт поза будь-якими функціями\nconst formData = {\n  email: '',\n  message: '',\n};\n\n// 3) Відновлення зі сховища при завантаженні\nconst saved = localStorage.getItem(FORM_KEY);\nif (saved) {\n  try {\n    const parsed = JSON.parse(saved);\n    formData.email = parsed.email ?? '';\n    formData.message = parsed.message ?? '';\n\n    form.elements.email.value = formData.email;\n    form.elements.message.value = formData.message;\n  } catch {\n    // якщо зіпсовані дані — просто ігноруємо\n  }\n}\n\n// 2) Делегування input — синхронізуємо об'єкт і сховище\nform.addEventListener('input', e => {\n  const { name, value } = e.target;\n\n  if (!(name in formData)) return;\n\n  formData[name] = value.trimStart(); // не зрізаємо кінці під час друку, лише початок\n  localStorage.setItem(\n    FORM_KEY,\n    JSON.stringify({\n      email: form.elements.email.value.trim(),\n      message: form.elements.message.value.trim(),\n    })\n  );\n});\n\n// Сабміт\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  // Актуальні, обрізані по краях значення\n  formData.email = form.elements.email.value.trim();\n  formData.message = form.elements.message.value.trim();\n\n  if (!formData.email || !formData.message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData); // вивід об’єкта\n  localStorage.removeItem(FORM_KEY);\n\n  // очищаємо об’єкт та форму\n  formData.email = '';\n  formData.message = '';\n  form.reset();\n});\n"],"names":["FORM_KEY","form","formData","saved","parsed","e","name","value"],"mappings":"oDAAA,MAAMA,EAAW,sBAEXC,EAAO,SAAS,cAAc,gBAAgB,EAG9CC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAGMC,EAAQ,aAAa,QAAQH,CAAQ,EAC3C,GAAIG,EACF,GAAI,CACF,MAAMC,EAAS,KAAK,MAAMD,CAAK,EAC/BD,EAAS,MAAQE,EAAO,OAAS,GACjCF,EAAS,QAAUE,EAAO,SAAW,GAErCH,EAAK,SAAS,MAAM,MAAQC,EAAS,MACrCD,EAAK,SAAS,QAAQ,MAAQC,EAAS,OAC3C,MAAU,CAEP,CAIHD,EAAK,iBAAiB,QAASI,GAAK,CAClC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAE,OAEpBC,KAAQJ,IAEdA,EAASI,CAAI,EAAIC,EAAM,UAAS,EAChC,aAAa,QACXP,EACA,KAAK,UAAU,CACb,MAAOC,EAAK,SAAS,MAAM,MAAM,KAAM,EACvC,QAASA,EAAK,SAAS,QAAQ,MAAM,KAAM,CACjD,CAAK,CACL,EACA,CAAC,EAGDA,EAAK,iBAAiB,SAAUI,GAAK,CAOnC,GANAA,EAAE,eAAc,EAGhBH,EAAS,MAAQD,EAAK,SAAS,MAAM,MAAM,OAC3CC,EAAS,QAAUD,EAAK,SAAS,QAAQ,MAAM,OAE3C,CAACC,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWF,CAAQ,EAGhCE,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAK,MAAK,CACZ,CAAC"}